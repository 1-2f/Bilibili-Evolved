(()=>{return(e,t)=>{let r=true;const n="airborneStyle";(async()=>{if(!document.URL.match(/\/\/www\.bilibili\.com\/video\//)){return}const{forEachVideoDanmaku:e}=await t.importAsync("video-danmaku");t.applyStyle(n);const a=e=>{if(!e){return NaN}const t=e.match(/(\d+)[ ]*[:：.][ ]*(\d+)([ ]*[:：][ ]*(\d+))?/);if(!t){return NaN}if(t[3]){const[,e,r,,n]=t.map(e=>parseInt(e));if([e,r,n].some(e=>Number.isNaN(e))){return NaN}return e*3600+r*60+n}const[,r,n]=t.map(e=>parseInt(e));if([r,n].some(e=>Number.isNaN(e))){return NaN}return r*60+n};const i=e=>{if(!r){return}const t=e.target;if(!t.classList.contains("b-danmaku")){return}const n=a(t.textContent);if(!Number.isNaN(n)){const e=dq("video");e.currentTime=n;e.play()}};const s=e=>{const t=!Number.isNaN(a(e.text));e.element.classList.toggle("airborne",t)};e({added:s});Observer.videoChange(()=>{const e=dq(".bilibili-player-video-wrap");if(e.classList.contains("airborne-enabled")){return}e.classList.add("airborne-enabled");e.addEventListener("click",i)})})();return{reload:()=>{r=true;t.applyStyle(n)},unload:()=>{r=false;t.removeStyle(n)}}}})();