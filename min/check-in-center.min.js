(()=>(e,n)=>{const s=[{id:"seeds-to-coins",icon:"mdi-seed-outline",name:"瓜子换硬币",action:async()=>{const e="https://api.live.bilibili.com/xlive/revenue/v1/wallet/silver2coin";const n=await Ajax.postTextWithCredentials(e,formData({csrf:getCsrf(),csrf_token:getCsrf()}));const s=JSON.parse(n);if(s.code!==0){Toast.info(s.message,"瓜子换硬币",3e3)}else{Toast.success(`${s.message}\n剩余银瓜子:${s.data.silver}`,"瓜子换硬币",3e3)}}},{id:"live-check-in",icon:"mdi-calendar-check",name:"直播间签到",action:async()=>{const e="https://api.live.bilibili.com/xlive/web-ucenter/v1/sign/DoSign";const n=await Ajax.getJsonWithCredentials(e);if(n.code!==0){Toast.info(n.message,"直播间签到",3e3)}else{const{text:e,specialText:s,allDays:t,hadSignDays:i}=n.data;const a=`签到成功, 获得了${e} ${s}\n本月进度: ${i} / ${t}`;Toast.success(a,"直播间签到",3e3)}}}];return{widget:{content:s.map((e=>`\n<button\n          class="gui-settings-flat-button"\n          id="${e.id}">\n<i class="mdi mdi-24px ${e.icon}"></i>\n<span>${e.name}</span>\n</button>\n`)).join("\n"),condition:()=>Boolean(getUID()),success:()=>{s.forEach((e=>{const n=document.getElementById(e.id);if(!n){return}n.addEventListener("click",(s=>{try{n.disabled=true;e.action(n,s)}finally{n.disabled=false}}))}))}}}})();