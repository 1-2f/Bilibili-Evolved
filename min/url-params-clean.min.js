(()=>{return(t,e)=>{const r=["spm_id_from","from_source","from_spmid","from","seid","share_source","share_medium","share_plat","share_tag","bbid","ts","timestamp","unique_k","rt","tdsourcetag","accept_quality","broadcast_type","current_qn","current_quality","playurl_h264","playurl_h265","quality_description","network","network_status","platform_network_status","p2p_type","referfrom"];const o=[/game\.bilibili\.com\/fgo/];const s=t=>{return t};const n=["videocard_series"];const c=()=>{const t=location.search.substring(1).split("&");if(t.some(t=>n.some(e=>t.includes(e)))){return}const e=t.filter(t=>{if(r.some(e=>t.startsWith(`${e}=`))){return false}return true});const o=e.join("&");const c=s(document.URL.replace(location.search,""));const a=o?"?"+o:"";const i=c+a;if(i!==document.URL){console.log("[URL params clean]",document.URL,i);history.replaceState({},document.title,i)}};fullyLoaded(()=>{if(document.contentType==="text/html"){c();Observer.videoChange(()=>c())}})}})();