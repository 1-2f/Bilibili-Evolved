(()=>(e,s)=>{function t(e,s,t){if(s in e){Object.defineProperty(e,s,{value:t,enumerable:true,configurable:true,writable:true})}else{e[s]=t}return e}const i={vip:"老爷图标",enterPrompt:"入场通知",fansMedal:"粉丝勋章",title:"活动头衔",guard:"弹幕特效",systemMessage:"全区广播",welcomeMessage:"欢迎信息",giftMessage:"礼物弹幕",guardPurchase:"上舰提示",giftPanel:"付费礼物",userEffect:"入场特效",kanban:"看板娘",eventsBanner:"活动横幅",rankList:"排行榜",popup:"抽奖提示",pk:"PK浮窗",topRank:"高能榜提示",skin:"房间皮肤"};class n{constructor(s,i){this.skinSelectors=s;this.skinClass=i;t(this,"skinDisabled",e.simplifyLiveroomSettings.skin)}start(){this.skinSelectors.forEach((async e=>{const s=await SpinQuery.select(e);if(!s){return}Observer.attributes(s,(e=>{e.forEach((e=>{if(e.attributeName==="class"){if(this.skinDisabled&&s.classList.contains(this.skinClass)){s.classList.remove(this.skinClass)}else if(!this.skinDisabled&&!s.classList.contains(this.skinClass)){s.classList.add(this.skinClass)}}}))}))}))}setSkin(e){this.skinDisabled=!e;this.skinSelectors.forEach((s=>{SpinQuery.select(s,(s=>s.classList[e?"add":"remove"](this.skinClass)))}))}}const a=[new n(["#head-info-vm","#gift-control-vm","#rank-list-vm","#rank-list-ctnr-box",".gift-panel.base-panel",".gift-panel.extend-panel",".seeds-wrap>div:first-child",".gift-section>div:last-child",".z-gift-package>div>div",".right-action",".control-panel-ctnr"],"live-skin-coloration-area"),new n([".rank-list-ctnr .tabs"],"isHundred"),new n([".rank-list-ctnr .tab-content > div"],"hundred")];const c=(e,s)=>{document.body.classList.toggle(`simplify-${s}`,e);if(s==="skin"){a.forEach((s=>s.setSkin(!e)))}};const r=()=>document.URL.startsWith(`https://live.bilibili.com/`);if(r()){Object.keys(i).forEach((s=>{const t=e.simplifyLiveroomSettings[s];c(t,s)}));a.forEach((e=>e.start()));SpinQuery.select(".rank-list-ctnr .tab-content").then((e=>{if(!e){return}Observer.childList(e,(async s=>{console.table(s);const t=dq(e,".rank-list-content");if(!t){return}if(t.classList.contains("disable-skin")){return}t.classList.add("disable-skin");new n([".rank-list-ctnr .tab-content .rank-list-content"],"live-skin-coloration-area").start()}))}))}return{widget:{condition:r,content:`\n<div class="gui-settings-flat-button" style="position: relative" id="simplify-liveroom">\n<i class="mdi mdi-24px mdi-settings"></i>\n<span>简化直播间</span>\n<div class="simplify-liveroom-settings popup">\n<ul>\n<li v-for="item in items" @click="itemClick(item)" :class="{checked: item.checked}">\n<i class="mdi mdi-18px" :class="{'mdi-eye': !item.checked, 'mdi-eye-off': item.checked}"></i>\n              {{item.name}}\n</li>\n</ul>\n</div>\n</div>\n`,success:()=>{const s=document.querySelector("#simplify-liveroom");const t=document.querySelector(".gui-settings-mask");s.addEventListener("click",(e=>{const s=document.querySelector(".simplify-liveroom-settings");if(s.contains(e.target)||e.target===s){return}s.classList.toggle("opened")}));s.addEventListener("mouseenter",(()=>t.classList.add("transparent")));s.addEventListener("mouseleave",(()=>t.classList.remove("transparent")));new Vue({el:".simplify-liveroom-settings",data:{items:Object.entries(i).map((([s,t])=>{const i=e.simplifyLiveroomSettings[s];c(i,s);return{key:s,name:t,checked:i}}))},methods:{itemClick(s){s.checked=!s.checked;c(s.checked,s.key);e.simplifyLiveroomSettings=Object.assign(e.simplifyLiveroomSettings,{[s.key]:s.checked})}}})}}}})();