!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["video/danmaku/airborne"]=n():e["video/danmaku/airborne"]=n()}(self,(function(){return function(){"use strict";var e={825:function(e,n,t){t.r(n),n.default='// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require("../../../../../../node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".bilibili-player-video-danmaku .b-danmaku.airborne {\\n  text-decoration: underline;\\n  cursor: pointer;\\n  pointer-events: initial;\\n}", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n'}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){t.d(o,{component:function(){return s}});var e=coreApis.componentApis.styledComponent,n=coreApis.componentApis.video.playerAgent,r=coreApis.componentApis.video.videoDanmaku,i=coreApis.observer,a=coreApis.utils.urls;const s={displayName:"启用弹幕空降",author:{name:"kdxcxs",link:"https://github.com/kdxcxs"},description:{"zh-CN":"为可能含有时间点的弹幕添加下划线, 点击可以跳到视频对应时间."},tags:[componentsTags.video],urlInclude:a.playerUrls,...(0,e.toggleStyle)("danmakuAirborne",(()=>Promise.resolve().then(t.bind(t,825))),(async({settings:e})=>{const{enabled:t}=e,o=e=>{if(!e)return NaN;const n=e.match(/(\d+)[ ]*[:：时分][ ]*(\d+)([ ]*[:：分][ ]*(\d+))?/);if(!n)return NaN;if(n[3]){const[,t,o,,r]=n.map((e=>parseInt(e)));return[t,o,r].some((e=>Number.isNaN(e)))||e.includes("分")&&!e.includes("时")?NaN:3600*t+60*o+r}const[,t,o]=n.map((e=>parseInt(e)));return[t,o].some((e=>Number.isNaN(e)))?NaN:60*t+o},a=e=>{if(!t)return;const n=e.target;if(!n.classList.contains("b-danmaku"))return;const r=o(n.textContent);Number.isNaN(r)||unsafeWindow.player.seek(r,!1)};(0,r.forEachVideoDanmaku)({added:e=>{const n=!Number.isNaN(o(e.text));e.element.classList.toggle("airborne",n)}}),(0,i.videoChange)((async()=>{const e=await n.playerAgent.query.video.wrap();e.classList.contains("airborne-enabled")||(e.classList.add("airborne-enabled"),e.addEventListener("click",a))}))})),commitHash:"0a2ab779aac2af6f58d15cee16533dd18200bb62"}}(),o=o.component}()}));