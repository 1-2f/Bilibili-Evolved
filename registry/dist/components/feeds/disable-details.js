!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["feeds/disable-details"]=t():e["feeds/disable-details"]=t()}(self,(function(){return function(){"use strict";var e,t,n={599:function(e,t,n){n.r(t),t.default='// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require("../../../../../node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".card[data-did] .content {\\n  cursor: text;\\n}\\n.card[data-did] .content .details {\\n  font-size: 12px;\\n  opacity: 0.6;\\n  cursor: pointer;\\n  display: block;\\n}", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n'},957:function(e,t,n){n.r(t),t.default='// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require("../../../../../node_modules/css-loader/dist/runtime/api.js");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ".card[data-did] .content .details {\\n  display: none;\\n}", ""]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n'},23:function(e){e.exports=coreApis.componentApis.feeds.api},163:function(e){e.exports=coreApis.style}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var i=Object.create(null);r.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var d=2&o&&n;"object"==typeof d&&!~e.indexOf(d);d=t(d))Object.getOwnPropertyNames(d).forEach((function(e){s[e]=function(){return n[e]}}));return s.default=function(){return n},r.d(i,s),i},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){r.d(i,{component:function(){return s}});var e=coreApis.utils.urls;let t=!0;const n="disable-feeds-details-style",o=async()=>{const{addImportantStyle:e}=await Promise.resolve().then(r.t.bind(r,163,23)),{default:t}=await Promise.resolve().then(r.bind(r,599));e(t,n)},s={name:"disableFeedsDetails",displayName:"禁止跳转动态详情",tags:[componentsTags.feeds],urlInclude:e.feedsUrls,description:{"zh-CN":"禁止动态点击后跳转详情页, 方便选择其中的文字."},entry:async()=>{const{addImportantStyle:e}=await Promise.resolve().then(r.t.bind(r,163,23)),{forEachFeedsCard:n}=await Promise.resolve().then(r.t.bind(r,23,23)),{default:i}=await Promise.resolve().then(r.bind(r,957));e(i,"disable-feeds-details-init-style"),o();n({added:e=>{const{element:n}=e;n.addEventListener("click",(e=>{if(e.ctrlKey||!t)return;const o=dqa(n,".content"),r=e.target;if(r.hasAttribute("click-title"))return;dqa(n,".im-popup").some((e=>e.contains(r)))||o.some((e=>e===r||e.contains(r)))&&e.stopImmediatePropagation()}),{capture:!0});const o=dq(n,".post-content");if(!o)return;if(![".video-container",".bangumi-container",".media-list",".article-container"].some((e=>dq(o,e)))&&!dq(o,".details")&&o.classList.contains("repost")){const e=dq(o,".content");if(!e)return;const t=document.createElement("div");t.classList.add("details"),t.setAttribute("click-title","详情"),t.innerHTML='\n        详情<i class="mdi mdi-chevron-right" click-title></i>\n      ',e.insertAdjacentElement("beforeend",t)}}})},unload:()=>{document.getElementById(n)?.remove(),t=!1},reload:()=>{o(),t=!0},commitHash:"0a2ab779aac2af6f58d15cee16533dd18200bb62"}}(),i=i.component}()}));